
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>kennary island</title>
  <meta name="author" content="Kenny Yu">

  
  <meta name="description" content="After taking 18 computer science classes at Harvard (17 in CS, 1 in EE),
I was curious to see exactly how many lines of code I have written
for &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://kennyyu.me">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="kennary island" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-25289622-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">kennary island</a></h1>
  
    <h2>eat, enjoy, explore</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:kennyyu.me" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/projects">Projects</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/12/197717-lines-of-code-later-dot-dot-dot/">197,717 Lines of Code Later&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-12T15:16:00-04:00" pubdate data-updated="true">Jun 12<span>th</span>, 2014</time>
        
         | <a href="/blog/2014/06/12/197717-lines-of-code-later-dot-dot-dot/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After taking 18 computer science classes at Harvard (17 in CS, 1 in EE),
I was curious to see exactly how many lines of code I have written
for assignments these past four years. I was also curious what the breakdown
would be for the different programming languages I&#8217;ve learned over the years.</p>

<p>After looking through the archives of my computer, I calculated that I wrote
<strong>197,717</strong> lines of code (141,008 insertions, 56,709 deletions) for my
classes in the past four years! In fact, I believe this is actually
an underestimate. In this post, I&#8217;ll talk about how
I calculated this number, and assumptions I made when calculating this
number.</p>

<p><img src="/images/count-course.png" alt="Lines of Code by Course" /></p>

<p><img src="/images/count-filetype.png" alt="Lines of Code by File Type" /></p>

<p><img src="/images/count-semester.png" alt="Lines of Code by Semester" /></p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/06/12/197717-lines-of-code-later-dot-dot-dot/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/04/tinibot-a-voice-activated-drink-mixer/">tiniBot: A Voice-Activated Drink Mixer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-04T19:34:00-04:00" pubdate data-updated="true">Jun 4<span>th</span>, 2014</time>
        
         | <a href="/blog/2014/06/04/tinibot-a-voice-activated-drink-mixer/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class="embed-video-container"><iframe src="http://www.youtube.com/embed/xetTOXwaTmc "></iframe></div>


<p>This past semester, I took ES50, Harvard&#8217;s introductory course in electrical
engineering. For our final project, my group decided to make a voice-activated
drink mixer! I was in charge of the coding component of the project.</p>

<p><img src="/images/tinibot-code.jpg" alt="Omnibox GDrive Search" /></p>

<p>The code is available on <a href="https://github.com/kennyyu/tinibot">github</a>.
To do the speech recognition, I
used the Chrome Speech API. Once I have the transcribed text, I send
the text to a local server, which figures out the drink that was ordered,
and then sends the appropriate times to open each of the bottles.
The server sends these times to the attached Arduino, which then
sends current to the appropriate solenoid valves for the designated times.
When activated, the solenoid valves allow liquid to flow through.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/29/reflecting-on-3-years-of-teaching/">Reflecting on 3 Years of Teaching</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-29T16:30:00-04:00" pubdate data-updated="true">Apr 29<span>th</span>, 2014</time>
        
         | <a href="/blog/2014/04/29/reflecting-on-3-years-of-teaching/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I taught my last section as an undergraduate today.
I&#8217;ve been a teaching fellow for a computer science class
every semester for the past three years, teaching:</p>

<ul>
<li>CS50 (Intro to Computer Science), Fall 2011</li>
<li>CS51 (Abstraction and Design), Spring 2012 and Spring 2013</li>
<li>CS61 (Systems Programming and Machine Organization), Fall 2012 and Fall 2013</li>
<li>CS161 (Operating Systems), Spring 2014</li>
</ul>


<p>At Harvard, a &#8220;Teaching Fellow&#8221; is the equivalent of
teaching assistants at most other universities.
Technically, I&#8217;m a &#8220;Course Assistant&#8221; as the title
&#8220;Teaching Fellow&#8221; is reserved for graduate students, but in
many of the classes that I&#8217;ve taught, the undergraduates have
the same (if not more) responsibilities than the graduate
students. These typically include teaching section, holding
office hours, and grading.</p>

<p>Over the past three years, I&#8217;ve attempted to have an impact in
all of the classes I&#8217;ve taught, and hopefully that impact will
last after I graduate. Also, I&#8217;ve learned several lessons about teaching
computer science classes, and I have advice for current
or future undergraduates considering teaching.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/04/29/reflecting-on-3-years-of-teaching/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/20/writing-synchronization-problems-for-os161/">Writing Synchronization Problems for OS161</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-20T01:25:00-04:00" pubdate data-updated="true">Mar 20<span>th</span>, 2014</time>
        
         | <a href="/blog/2014/03/20/writing-synchronization-problems-for-os161/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This semester, I have the privilege of being a teaching fellow
for Harvard&#8217;s legendary <a href="http://www.eecs.harvard.edu/~margo/cs161/">operating systems class</a>,
and I was tasked with writing the synchronization problems for
this year&#8217;s synchprobs assignment! The goal of these problems
is to get students to think carefully about the synchronization
primitives and data structures needed to solve highly concurrent
problems, avoiding the usual problems that come with concurrency:
race conditions, deadlock, starvation, etc.</p>

<p>I remember how fun these problems
were last year (forming little fellowships of the ring and piazza posts,
meant to mimic creating barriers and reader-writer locks), and
I wanted to make sure the problems were just as fun this year.
I was tasked specifically to write problems to mimic the
synchronization one would use to implement <code>waitpid()</code>/<code>exit()</code>
(how would you do it?) and the synchronization needed
between address spaces and the coremap when implementing
a virtual memory system in the third assignment. Given
these specifications, I came up with
<strong>Singing Cows</strong> and <strong><del>Hunger</del> Deletion Games</strong> synchprobs!</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/03/20/writing-synchronization-problems-for-os161/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/19/c-error-handling/">C Error Handling</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-19T19:42:00-04:00" pubdate data-updated="true">Mar 19<span>th</span>, 2014</time>
        
         | <a href="/blog/2014/03/19/c-error-handling/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After taking an <a href="http://www.eecs.harvard.edu/~margo/cs161/">operating systems class</a>
last year and taking a
<a href="http://stratos.seas.harvard.edu/classes/cs165-data-systems">data systems class</a> this semester, I&#8217;ve picked up a few patterns
to make it easier to handle error conditions in C.</p>

<p>Consider the following example from my data systems class, where I initialize
a directory to act as persistent storage for my database.</p>

<figure class='code'><figcaption><span>storage struct</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class='c'><span class='line'><span class="k">struct</span> <span class="n">storage</span> <span class="p">{</span>
</span><span class='line'>    <span class="kt">char</span> <span class="n">st_dbdir</span><span class="p">[</span><span class="mi">128</span><span class="p">];</span>   <span class="c1">// name of the db directory</span>
</span><span class='line'>    <span class="k">struct</span> <span class="n">file</span> <span class="o">*</span><span class="n">st_file</span><span class="p">;</span> <span class="c1">// pointer to metadata file</span>
</span><span class='line'>    <span class="k">struct</span> <span class="n">lock</span> <span class="o">*</span><span class="n">st_lock</span><span class="p">;</span> <span class="c1">// protect addition of columns</span>
</span><span class='line'>    <span class="k">struct</span> <span class="n">columnarray</span> <span class="o">*</span><span class="n">st_open_cols</span><span class="p">;</span> <span class="c1">// array of open columns</span>
</span><span class='line'><span class="p">};</span>
</span></code></pre></td></tr></table></div></figure>




</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2014/03/19/c-error-handling/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/11/18/bootcamps/">Learning Through Bootcamps</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-11-18T11:25:00-05:00" pubdate data-updated="true">Nov 18<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/11/18/bootcamps/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This semester, I&#8217;ve been writing and leading <a href="https://github.com/hcs/bootcamp-main/">bootcamps</a> as the
<a href="http://www.hcs.harvard.edu/">Harvard Computer Society</a> Bootcamp Manager. In the past, HCS has
had bootcamps on various topics including python, javascript, and git. Bootcamps are typically
targetted for students just starting computer science (fresh{wo}men, sophomores).</p>

<p>My goal this smester was to restart the bootcamps and to revamp the curriculum. In this post, I&#8217;ll talk about:</p>

<ol>
<li>The <strong>bootcamp curriculum</strong> I designed</li>
<li>The typical <strong>workflow</strong> for a bootcamp</li>
<li>The <strong>design decisions</strong> that went into writing these bootcamps</li>
<li>Some high level <strong>results</strong> (pull request numbers and summary of testimonials)</li>
<li><strong>Unedited testimonials</strong> from students in the bootcamps</li>
</ol>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2013/11/18/bootcamps/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2013/10/20/omnibox-gdrive-search/">Omnibox GDrive Search</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-20T22:11:00-04:00" pubdate data-updated="true">Oct 20<span>th</span>, 2013</time>
        
         | <a href="/blog/2013/10/20/omnibox-gdrive-search/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/omnibox-gdrive-search.png" alt="Omnibox GDrive Search" /></p>

<p>I published my first Chrome Extension: <a href="https://chrome.google.com/webstore/detail/omnibox-gdrive-search/faadbnlolclhboooficaklnhnkdjmdnb">Omnibox GDrive Search</a>!
The extension allows you to search your google drive for documents and then jump directly to them from the omnibox! See the <a href="https://github.com/kennyyu/omnibox-gdrive-search">code on github</a>.</p>

<p>In the omnibox, type <code>gd</code> and press <code>TAB</code>. Now you can enter your queries and jump directly to the file from the omnibox suggestions!</p>

<p>To use it, you must first authorize Google Drive metadata read-only access to the extension by following these instructions (see screenshots in extension link):</p>

<ol>
<li>Go to <code>chrome://extensions</code></li>
<li>Find this extension, and click &#8220;Options&#8221;</li>
<li>Click &#8220;Authorize&#8221;, and then click &#8220;Accept&#8221; to grant the extension access. This will redirect to a blank page. Close it, and refresh the options page.</li>
<li>If you see &#8220;You have already authorized this extension!&#8221;, then you can now search!</li>
</ol>


<p>By far, the most difficult part of the extension was understanding authorization with Google Drive. The extension is a bit
buggy and lags a little because the extension must renew the authorization with Google Drive every 15 minutes or so.
To get around this, the extension only requests authorization on the first use after the expiration and will
redirect the user to the options page.
Thus, if you&#8217;re using the extension for the first time in a while, it may take ~3 seconds before search results come back.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/12/10/pipeline-for-improving-hand-tracking-accuracy/">Pipeline for Improving Hand Tracking Accuracy</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-10T21:48:00-05:00" pubdate data-updated="true">Dec 10<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/12/10/pipeline-for-improving-hand-tracking-accuracy/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class="embed-video-container"><iframe src="http://www.youtube.com/embed/DFPg-9D46kE "></iframe></div>


<p>For my CS283: Computer Vision Final Project, I created an application to control Google Maps
using your hand and a webcam.</p>

<p>It uses the Chrome API to access the webcam, and frames are sent to a Tornado server that
runs the hand tracking pipeline, annotates the frame, and sends back the displacement
vector to update the view of the map. I am using OpenCV for it&#8217;s Haar Cascade libraries.</p>

<p>You can <a href="https://github.com/kennyyu/cs283-project">view the code on github</a>
and setup an instance of the server locally!</p>

<p>You can also <a href="https://www.dropbox.com/s/tnyzr1qt8fmnscp/hand-tracking-pipeline.pdf">view the paper</a>
I wrote to describe the process I used in the pipeline. Below is a summary of the problem
statement and the stages in the pipeline.</p>

<h1>Problem Statement</h1>

<p>Given a poorly trained Haar Cascade Classifier (250 positive samples and 100 negative samples) to recognize hands,
this project assembles a pipeline to improve the quality of the tracking. These steps include:</p>

<ol>
<li>Face detection and removal of faces.</li>
<li>Background subtraction.</li>
<li>Use a simplified Kalman-Filter-esque technique to estimate the bounding box of the hand. This assumes that a hand moves in a smooth manner.</li>
<li>Use our hand classifier to detect the largest hand within the bounding box.</li>
<li>Compute the optical flow of points within the bounding box using Lucas-Kanade.</li>
<li>Use the optical flow and the measured position of the hand to correct our Kalman-Filter estimate.</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/22/java-flag-command-line-library/">Java Flag Command Line Library</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-22T18:07:00-04:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2012</time>
        
         | <a href="/blog/2012/08/22/java-flag-command-line-library/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Inspired by other commmand line libraries, I decided to make my own Java flag
command line library <a href="https://github.com/kennyyu/flags">here</a>. It makes use
of Java&#8217;s Reflection capabilities to fill in the values of flags at runtime.
The library is fairly simple to use&#8211;it requires only declaring a static
field, and one invocation to <code>Flags.parse</code> in the <code>main</code> method of the
application. The library offers support for various wrapper types as well
as collection types.</p>

<p>As an example of using the library, you declare a flag using the
annotation <code>@FlagInfo</code> with the desired flag names and values.</p>

<figure class='code'><figcaption><span>MyApp.java</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kn">import</span> <span class="nn">me.kennyyu.flags.Flag</span><span class="o">;</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">me.kennyyu.flags.Flags</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
</span><span class='line'>
</span><span class='line'><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyApp</span> <span class="o">{</span>
</span><span class='line'>  <span class="nd">@FlagInfo</span><span class="o">(</span><span class="n">help</span> <span class="o">=</span> <span class="s">&quot;maximum number of threads to use&quot;</span><span class="o">,</span> <span class="n">altName</span> <span class="o">=</span> <span class="s">&quot;n&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Flag</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">maxNumThreads</span> <span class="o">=</span> <span class="n">Flags</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="mi">3</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="nd">@FlagInfo</span><span class="o">(</span><span class="n">help</span> <span class="o">=</span> <span class="s">&quot;use real logger&quot;</span><span class="o">,</span> <span class="n">altName</span> <span class="o">=</span> <span class="s">&quot;r&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Flag</span><span class="o">&lt;</span><span class="n">Boolean</span><span class="o">&gt;</span> <span class="n">useRealLogger</span> <span class="o">=</span> <span class="n">Flags</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="nd">@FlagInfo</span><span class="o">(</span><span class="n">help</span> <span class="o">=</span> <span class="s">&quot;input list&quot;</span><span class="o">,</span> <span class="n">altName</span> <span class="o">=</span> <span class="s">&quot;l&quot;</span><span class="o">)</span>
</span><span class='line'>  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Flag</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span> <span class="n">inputList</span> <span class="o">=</span>
</span><span class='line'>      <span class="n">Flags</span><span class="o">.</span><span class="na">valueOf</span><span class="o">(</span><span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;());</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Flags</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="n">args</span><span class="o">);</span>
</span><span class='line'>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">maxNumThreads</span><span class="o">.</span><span class="na">get</span><span class="o">());</span>
</span><span class='line'>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">useRealLogger</span><span class="o">.</span><span class="na">get</span><span class="o">());</span>
</span><span class='line'>    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">inputList</span><span class="o">.</span><span class="na">get</span><span class="o">());</span>
</span><span class='line'>  <span class="o">}</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Then you provide flag values at the command line like so:</p>

<figure class='code'><figcaption><span>Passing flags at the command line</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sh'><span class='line'>java MyApp --maxNumThreads<span class="o">=</span>5 --useRealLogger -l<span class="o">=</span>foo,bar,baz
</span></code></pre></td></tr></table></div></figure>


<p>All classes referenced from the main class with flags will be available as options.</p>

<p>In addition to learning how to use Java&#8217;s Reflection capabilities, this
was also an exercise in learning how to use Maven to build and deploy my
project. I am using a <a href="https://github.com/kennyyu/maven-repos">github project</a>
as a maven server.</p>

<p>See the <code>README.md</code> in the github directory for more information on how to
use it and install the library.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/06/24/coupling-and-the-coupon-collector/">Coupling and the Coupon Collector</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-06-24T21:43:00-04:00" pubdate data-updated="true">Jun 24<span>th</span>, 2012</time>
        
         | <a href="/blog/2012/06/24/coupling-and-the-coupon-collector/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In the fall semester last year, I took <a href="http://blog.bokcenter.harvard.edu/2012/01/23/stat-110-lectures-are-now-available-on-itunesu/">Stat 110</a>,
an introductory
statistics course focusing on probability. I had done probability in contest
math from high school, but this course was my first real rigorous treatment
of probability.</p>

<p>One of the most interesting problems I saw in the course involves Markov chains
and a simple and elegant solution using another interesting problem we saw
earlier in the course&#8211;<a href="http://en.wikipedia.org/wiki/Coupon_collector%27s_problem">the coupon collector&#8217;s problem</a>.</p>

<h2>Random-to-Top Shuffling Problem</h2>

<p>Suppose $n$ cards are placed in order on a table. Consider the following shuffling
procedure: Pick a card at random from the deck and place it on top of the deck.
What is the expected number of times we need to repeat the process to arrive
at a &#8220;random&#8221; deck, for some suitable definition of &#8220;random&#8221;?</p>

<p>To solve this question, we&#8217;ll need to answer a seemingly unrelated question first.</p>

<h2>Coupon Collector&#8217;s Problem (aka. The Toy Collector&#8217;s Problem)</h2>

<p>A certain brand of cereal always distributes a toy in every cereal box. The toy
chosen for each box is chosen randomly from a set of $n$ distinct toys. A toy
collector wishes to collect all $n$ distinct toys. What is the expected number
of cereal boxes must the toy collector buy so that the toy collector collects
all $n$ distinct toys?</p>

<h2>Solution to the Toy Collector&#8217;s Problem</h2>

<p>The key to understanding this problem is to break the task of collecting all
$n$ distinct toys into different stages: what is the expected number of cereal
boxes that the toy collector has to buy to get the $i$-th new toy?</p>

<p>Let random variable $X_i$ be the number of boxes it takes for the toy collector
to collect the $i$-th new toy after the $i-1$-th toy has already been collected.
(Note: this does NOT mean assign numbers to toys
and then collect the $i$-th toy. Instead, this means that after $X_i$ boxes,
the toy collector would have collected $i$ distinct toys, but with only $X_i - 1$
boxes, the toy collector would have only collected $i-1$ distinct toys.)</p>

<p>Clearly $E(X_1) = 1$, because the toy collector starts off with no toys. Now
consider the $i$-th toy. After the $i-1$-th toy has been collected, then there
are $n - (i-1)$ possible toys that could be the new $i$-th toy. We can interpret
the process of waiting for the $i$-th new toy as a <a href="http://en.wikipedia.org/wiki/Geometric_distribution">geometric distribution</a>, where
each trial is buying another cereal box, &#8220;success&#8221; is getting any of the
$n - (i-1)$ uncollected toys, and
&#8220;failure&#8221; is getting any of the already collected $i - 1$ toys. From this point
of view, we see that
$$X_i - 1 \sim \textrm{Geom}(p)$$
where the probability of success $p$ is
$$p = \frac{n - (i-1)}{n}.$$</p>

<p>Here, our definition of the geometric distribution does NOT include the success.
Using the expectation of a geometric distribution, we have that the expected number
of cereal boxes the toy collector must collect to get the $i$-th new toy after
collecting $i-1$ toys is
$$E(X_i - 1) = \frac{1 - p}{p}$$
$$E(X_i) = \frac{1}{p} = \frac{n}{n - (i - 1)}.$$</p>

<p>Now let random variable $X$ to be the number of cereal boxes the toy collector
needs to buy to collect all $n$ distinct toys. Since we have separated the
process into collecting the $i$-th new toy, then
$$X = X_1 + X_2 + \cdots + X_n.$$</p>

<p>Using linearity of expectation, we can compute the expected value of $X$
by summing the individual expectations of $X_i$. Thus, we obtain the following
result:
$$E(X) = E(X_1 + X_2 + X_3 + \cdots + X_n)$$
$$E(X) = E(X_1) + E(X_2) + E(X_3) + \cdots + E(X_n)$$
$$E(X) = n\left( 1 + \frac{1}{2} + \frac{1}{3} + \cdots + \frac{1}{n} \right).$$</p>

<p>This is the harmonic series! The harmonic series diverges to infinity and
grows approximately as $\gamma + \log n$ where $\gamma \approx 0.57722$ is
Euler&#8217;s constant. Thus, we can approximate the expected number of cereal boxes with:
$$E(X) \approx n (\gamma + \log n).$$</p>

<h2>Solution to the Random-to-Top Shuffling Problem</h2>

<h3>Markov Chains and Stationary Distrubutions</h3>

<p>Coming back to the random-to-top shuffling problem, we first need to define
our notion of &#8220;random&#8221; for our deck. In order to do this, we use Markov chains.</p>

<p>For our Markov chain, let our states be all $n!$ permutations of $n$-card deck,
and two states are adjacent if and only if it is possible to reach one of the
states from the other through one step of this shuffle. For any state, we move to
one of its $n-1$ neighbors with probability $\frac{1}{n}$, or stay at the same
state with probability $\frac{1}{n}$. Since all of our $n!$ states has degree
$n$ (including loops), then by symmetry, the probability of having any
permutation is equally likely. Thus, the stationary distribution for our
random-to-top shuffling Markov process is the uniform vector
$$\vec{s} = \left(\frac{1}{n!}, &#8230;, \frac{1}{n!}\right).$$</p>

<p>Thus, to define our notion of a &#8220;random&#8221; deck, we would like that after
implementing our shuffling algorithm, the resulting deck is sampled from our
stationary distribution: that is, our resulting deck is equally likely
to be any of the $n!$ permutations.</p>

<h3>Coupling</h3>

<p>Now that we have established that our shuffling process can be modeled with
a Markov chain that has a stationary distribution, we use the idea of &#8220;coupling&#8221;
to arrive at our solution.</p>

<p>Let deck $A$ be our original deck, and let deck $B$ be uniformly randomly sampled
from all $n!$ permutations. Since the stationary distribution for our shuffling
process is the uniform distribution, then deck $B$ is sampled from the
stationary distribution.</p>

<p>We use the fact that if we start our Markov process from a state sampled
from the stationary distribution, then the resulting state will also be
sampled from the stationary distribution. More formally:</p>

<p><strong>Lemma.</strong> <em>Let $\vec{s}$
be the stationary distribution of our Markov chain.
Let $X_0$ be our starting state, and let it
be sampled from the stationary distribution (i.e. $P(X_0 = i) = s_i$). Then
the resulting state $X_1$ after running the Markov chain for one step
will also be sampled from $\vec{s}$</em>.</p>

<p>Now consider our &#8220;coupling&#8221; strategy: every time we move a card $C$ to the top
of deck $A$, we locate card $C$ in deck $B$ and place it on top of the deck.
Note that the physical process of how we chose card $C$ in the two decks is
different: we choose a random position in deck $A$, whereas we located card
$C$ in deck $B$. Although the process of how we chose card $C$ is different,
from deck $B$&#8217;s perspective, $C$ is simply a card selected at random. Using
our lemma, we have that deck $B$ still remains sampled from the stationary
distribution after moving card $C$ to the top of deck $B$.</p>

<p>We note that after $t$ steps, all the cards that have been touched
up to time $t$ will be in the same order on top of both decks.
When all the cards of deck A and deck B are in the same order
after some time $T$ steps, we will have that deck A and deck B are both
sampled from the stationary distribution (because B always stays
stationary through our coupling strategy). Thus, after $T$ steps,
deck A will satisfy our notion of a &#8220;random&#8221; deck. We wish to compute $E(T)$.</p>

<p>How do we compute $E(T)$? We note that both decks will be the same once we have
touched all the cards. Therefore, we wish to compute the expected number
of random-to-top shuffles needed to touch all the cards.
This is an instance of the coupon collector&#8217;s problem! Instead of
touching all $n$ cards, we wish the collect all $n$ coupons. Thus,
after approximately $n (\gamma + \log n)$
random-to-top shuffles, our original deck $A$
will be a &#8220;random&#8221; deck. For $n = 52$, we require $E(T) \approx 236$ shuffles
to randomize our deck.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/06/12/197717-lines-of-code-later-dot-dot-dot/">197,717 Lines of Code Later&#8230;</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/06/04/tinibot-a-voice-activated-drink-mixer/">tiniBot: A Voice-Activated Drink Mixer</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/29/reflecting-on-3-years-of-teaching/">Reflecting on 3 Years of Teaching</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/20/writing-synchronization-problems-for-os161/">Writing Synchronization Problems for OS161</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/19/c-error-handling/">C Error Handling</a>
      </li>
    
  </ul>
</section>




<section>
  <h1>Tag Cloud</h1>
    <span id="tag-cloud"><a href='/blog/categories/arduino' style='font-size: 115.0%'>arduino</a> <a href='/blog/categories/binary-search' style='font-size: 115.0%'>binary search</a> <a href='/blog/categories/c' style='font-size: 130.0%'>c</a> <a href='/blog/categories/c-' style='font-size: 115.0%'>c++</a> <a href='/blog/categories/chrome' style='font-size: 115.0%'>chrome</a> <a href='/blog/categories/chrome-extension' style='font-size: 115.0%'>chrome extension</a> <a href='/blog/categories/compilers' style='font-size: 115.0%'>compilers</a> <a href='/blog/categories/computer-vision' style='font-size: 115.0%'>computer vision</a> <a href='/blog/categories/concurrency' style='font-size: 115.0%'>concurrency</a> <a href='/blog/categories/coupling' style='font-size: 115.0%'>coupling</a> <a href='/blog/categories/design' style='font-size: 115.0%'>design</a> <a href='/blog/categories/electrical-engineering' style='font-size: 115.0%'>electrical engineering</a> <a href='/blog/categories/error-handling' style='font-size: 115.0%'>error handling</a> <a href='/blog/categories/flags' style='font-size: 115.0%'>flags</a> <a href='/blog/categories/git' style='font-size: 130.0%'>git</a> <a href='/blog/categories/java' style='font-size: 130.0%'>java</a> <a href='/blog/categories/javascript' style='font-size: 130.0%'>javascript</a> <a href='/blog/categories/knewton' style='font-size: 115.0%'>knewton</a> <a href='/blog/categories/layout' style='font-size: 115.0%'>layout</a> <a href='/blog/categories/markov-chains' style='font-size: 115.0%'>markov chains</a> <a href='/blog/categories/math' style='font-size: 145.0%'>math</a> <a href='/blog/categories/octopress' style='font-size: 130.0%'>octopress</a> <a href='/blog/categories/opencv' style='font-size: 115.0%'>opencv</a> <a href='/blog/categories/operating-systems' style='font-size: 115.0%'>operating systems</a> <a href='/blog/categories/probability' style='font-size: 115.0%'>probability</a> <a href='/blog/categories/proofs' style='font-size: 115.0%'>proofs</a> <a href='/blog/categories/python' style='font-size: 160.0%'>python</a> <a href='/blog/categories/school' style='font-size: 130.0%'>school</a> <a href='/blog/categories/statistics' style='font-size: 115.0%'>statistics</a> <a href='/blog/categories/synchronization' style='font-size: 115.0%'>synchronization</a> <a href='/blog/categories/systems' style='font-size: 130.0%'>systems</a> <a href='/blog/categories/teaching' style='font-size: 145.0%'>teaching</a> <a href='/blog/categories/unix' style='font-size: 115.0%'>unix</a> </span>
</section>

<section>
  <h1>Github Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/kennyyu">@kennyyu</a> on Github
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'kennyyu',
            count: 4,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Kenny Yu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'kennyyu';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
